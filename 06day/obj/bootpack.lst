     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_palette
     8 00000000                                 	EXTERN	_initScreen
     9 00000000                                 	EXTERN	_putfonts
    10 00000000                                 	EXTERN	_sprintf
    11 00000000                                 	EXTERN	_init_mouse_cursor8
    12 00000000                                 	EXTERN	_putblock8_8
    13 00000000                                 	EXTERN	_io_hlt
    14 00000000                                 [FILE "bootpack.c"]
    15                                          [SECTION .data]
    16 00000000                                 LC0:
    17 00000000 48 65 6C 6C 6F 20 4D 61 6F 5A   	DB	"Hello MaoZhengjun!",0x00
       0000000A 68 65 6E 67 6A 75 6E 21 00 
    18 00000013                                 LC1:
    19 00000013 57 65 6C 63 6F 6D 65 20 74 6F   	DB	"Welcome to MWOS!",0x00
       0000001D 20 4D 57 4F 53 21 00 
    20 00000024                                 LC2:
    21 00000024 20 20 20 20 73 63 72 6E 78 20   	DB	"    scrnx = %d",0x00
       0000002E 3D 20 25 64 00 
    22                                          [SECTION .text]
    23 00000000                                 	ALIGN	2
    24 00000000                                 	GLOBAL	_HariMain
    25 00000000                                 _HariMain:
    26 00000000 55                              	PUSH	EBP
    27 00000001 B9 00000002                     	MOV	ECX,2
    28 00000006 89 E5                           	MOV	EBP,ESP
    29 00000008 57                              	PUSH	EDI
    30 00000009 56                              	PUSH	ESI
    31 0000000A 53                              	PUSH	EBX
    32 0000000B 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
    33 0000000E 81 EC 00000130                  	SUB	ESP,304
    34 00000014 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    35 0000001B 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    36 0000001E 89 D0                           	MOV	EAX,EDX
    37 00000020 99                              	CDQ
    38 00000021 F7 F9                           	IDIV	ECX
    39 00000023 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    40 0000002A 83 EA 10                        	SUB	EDX,16
    41 0000002D 89 C7                           	MOV	EDI,EAX
    42 0000002F 89 D0                           	MOV	EAX,EDX
    43 00000031 99                              	CDQ
    44 00000032 F7 F9                           	IDIV	ECX
    45 00000034 89 C6                           	MOV	ESI,EAX
    46 00000036 E8 [00000000]                   	CALL	_init_gdtidt
    47 0000003B E8 [00000000]                   	CALL	_init_palette
    48 00000040 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    49 00000047 50                              	PUSH	EAX
    50 00000048 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    51 0000004F 50                              	PUSH	EAX
    52 00000050 FF 35 00000FF8                  	PUSH	DWORD [4088]
    53 00000056 E8 [00000000]                   	CALL	_initScreen
    54 0000005B 68 [00000000]                   	PUSH	LC0
    55 00000060 6A 07                           	PUSH	7
    56 00000062 6A 00                           	PUSH	0
    57 00000064 6A 00                           	PUSH	0
    58 00000066 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    59 0000006D 50                              	PUSH	EAX
    60 0000006E FF 35 00000FF8                  	PUSH	DWORD [4088]
    61 00000074 E8 [00000000]                   	CALL	_putfonts
    62 00000079 83 C4 24                        	ADD	ESP,36
    63 0000007C 68 [00000013]                   	PUSH	LC1
    64 00000081 6A 06                           	PUSH	6
    65 00000083 6A 10                           	PUSH	16
    66 00000085 6A 00                           	PUSH	0
    67 00000087 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    68 0000008E 50                              	PUSH	EAX
    69 0000008F FF 35 00000FF8                  	PUSH	DWORD [4088]
    70 00000095 E8 [00000000]                   	CALL	_putfonts
    71 0000009A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    72 000000A1 50                              	PUSH	EAX
    73 000000A2 68 [00000024]                   	PUSH	LC2
    74 000000A7 53                              	PUSH	EBX
    75 000000A8 E8 [00000000]                   	CALL	_sprintf
    76 000000AD 83 C4 24                        	ADD	ESP,36
    77 000000B0 53                              	PUSH	EBX
    78 000000B1 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    79 000000B7 6A 06                           	PUSH	6
    80 000000B9 6A 20                           	PUSH	32
    81 000000BB 6A 00                           	PUSH	0
    82 000000BD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    83 000000C4 50                              	PUSH	EAX
    84 000000C5 FF 35 00000FF8                  	PUSH	DWORD [4088]
    85 000000CB E8 [00000000]                   	CALL	_putfonts
    86 000000D0 6A 0E                           	PUSH	14
    87 000000D2 53                              	PUSH	EBX
    88 000000D3 E8 [00000000]                   	CALL	_init_mouse_cursor8
    89 000000D8 83 C4 20                        	ADD	ESP,32
    90 000000DB 6A 10                           	PUSH	16
    91 000000DD 53                              	PUSH	EBX
    92 000000DE 56                              	PUSH	ESI
    93 000000DF 57                              	PUSH	EDI
    94 000000E0 6A 10                           	PUSH	16
    95 000000E2 6A 10                           	PUSH	16
    96 000000E4 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    97 000000EB 50                              	PUSH	EAX
    98 000000EC FF 35 00000FF8                  	PUSH	DWORD [4088]
    99 000000F2 E8 [00000000]                   	CALL	_putblock8_8
   100 000000F7 83 C4 20                        	ADD	ESP,32
   101 000000FA                                 L2:
   102 000000FA E8 [00000000]                   	CALL	_io_hlt
   103 000000FF EB F9                           	JMP	L2
